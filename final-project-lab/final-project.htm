<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
                <style>
                    .linenums {
                        list-style-type: none;
                    }

                    .formatted-line-numbers {
                        display: none;
                    }
                    .action-code-block {
                        display: none;
                    }
                    table {
                        border-collapse: collapse;
                        width: 100%;
                    }
                    table, th, td {
                        border: 1px solid black;
                        padding: 8px;
                        text-align: left;
                    }
                </style>
            </head><body><h1 class="pageTitle">Final Project: Database Design and Implementation</h1><img src="final-project_files/IBM_logo.png" width="300"><h2><span class="header-link octicon octicon-link"></span></h2><p><strong>Estimated time needed:</strong> 90 minutes</p><p>Congratulations! You have finished the modules. Now is the time to put your skills to the test. Read through the scenario below.</p><h2><span class="header-link octicon octicon-link"></span>Scenario</h2><p>In
 this scenario, you have recently been hired as a Data Engineer by a New
 York-based coffee shop chain looking to expand nationally by opening 
several franchise locations. They want to streamline operations and 
revamp their data infrastructure as part of their expansion process.</p><p>Your
 job is to design their relational database systems for improved 
operational efficiencies and make it easier for their executives to make
 data-driven decisions.</p><p>Currently, their data resides in several 
systems: accounting software, supplier databases, point of sales (POS) 
systems, and even spreadsheets. You will review the data in all of these
 systems and design a central database to house all of the data. You 
will then create the database objects and load them with source data. 
Finally, you will create subsets of data your business partners require,
 export them, and load them into staging databases using several RDBMS.</p><h1 class="pageTitle">Software used in this project</h1><p>In this project, you will use <a href="https://www.postgresql.org/?utm_medium=Exinfluencer&amp;utm_source=Exinfluencer&amp;utm_content=000026UJ&amp;utm_term=10006555&amp;utm_id=NA-SkillsNetwork-Channel-SkillsNetworkCoursesIBMDB0110ENSkillsNetwork24601058-2021-01-01" target="_blank" rel="noopener noreferrer" title="PostgreSQL Database">PostgreSQL Database</a>, <a href="https://www.mysql.com/?utm_medium=Exinfluencer&amp;utm_source=Exinfluencer&amp;utm_content=000026UJ&amp;utm_term=10006555&amp;utm_id=NA-SkillsNetwork-Channel-SkillsNetworkCoursesIBMDB0110ENSkillsNetwork24601058-2021-01-01" target="_blank" rel="noopener noreferrer" title="MySQL">MySQL</a>. These are all relational database management systems (RDBMS) designed to store, manipulate, and retrieve the data efficiently.</p><img src="final-project_files/postgresql.png" width="130" height="100"><img src="final-project_files/mysql.png" width="100" height="100"><p>

</p><h1 class="pageTitle">Data used in this project</h1><p>In this project, you will be working with a subset of data from the <a href="https://community.ibm.com/community/user/businessanalytics/blogs/steven-macko/2019/07/12/beanie-coffee-1113?utm_source=Exinfluencer&amp;utm_content=000026UJ&amp;utm_id=NA-SkillsNetwork-Channel-SkillsNetworkCoursesIBMDB0110ENSkillsNetwork24601058-2021-01-01&amp;utm_medium=Exinfluencer&amp;utm_term=10006555" target="_blank" rel="noopener noreferrer" title="Coffee shop sample data">Coffee shop sample data</a>.</p><p>You
 will use a modified version of the data for the project, so to succeed 
in the project, download the linked files when prompted in the 
instructions. You do not need to use any data from the source.</p><p>In your scenario, you will be working with data from the following sources:</p><ul>
<li>Staff information held in a spreadsheet at headquarters (HQ)</li><li>Sales outlet information held in a spreadsheet at HQ</li><li>Sales data output as a CSV file from the POS system in the sales outlets</li><li>Customer data output as a CSV file from a custom customer relationship management system</li><li>Product information maintained in a spreadsheet exported from your supplier's database</li></ul><h1 class="pageTitle">Objectives</h1><p>After completing this lab, you will be able to:</p><ul>
<li>Identify entities</li><li>Identity attributes</li><li>Create an entity relationship diagram (ERD) using the pgAdmin ERD tool</li><li>Normalize tables</li><li>Define keys and relationships</li><li>Create database objects by generating and running the SQL script from the ERD tool</li><li>Create a view and export the data</li><li>Create a materialized view and export the data</li><li>Import data into a MySQL database using phpMyAdmin GUI tool</li></ul><h1 class="pageTitle">Task 1: Identify entities</h1><p>The first step when designing a new database is to review any existing data and identify the entities for your new system.</p><ol>
<li><p>The following image shows sample data from each source you will 
be working with to design your new central database. Review the image 
and identify the entities you plan to create.</p>
<p> <img src="final-project_files/existing_data.png" alt="sample data"></p>
  <p>

</p><ul>
<li>Note: You can download a copy of this image or open it in another browser tab for reference later in the lab.</li></ul>
  <p>
</p></li><li><p>Make a list of the entities you have identified. Take a screenshot and save it as Task1.jpg or Task1.png.</p>
</li></ol><h1 class="pageTitle">Task 2: Identify attributes</h1><p>In this task, you will identify the attributes of one of the entities you plan to create.</p><ol>
<li><p>Using the information from the sample data in the image from Task
 1, identify the entity's attributes that will store the sales 
transaction data.</p>
</li><li><p>Make a list of the sales transaction attributes that you identified. Take a screenshot and save it as Task2.jpg or Task2.png.</p>
</li></ol><h1 class="pageTitle">Task 3: Create an ERD</h1><p>Now that 
you have defined some of your attributes and entities, you can determine
 the tables and columns for them and create an entity-relationship 
diagram (ERD).</p><ol>
<li><p>Open a new terminal from the side-by-side Cloud IDE.</p>
</li><li><p>Use the button below to start a PostgreSQL service session in the Cloud IDE.</p>
</li></ol><p><button class="plugin" onclick="openDataBase('PostgreSQL','true')"><i class="fa fa-database"></i> <span class="plugin-text">Open and Start PostgreSQL in IDE</span></button></p><ol start="3">
<li><p>Use the pgAdmin weblink to open pgAdmin in a new tab in your browser.</p>
</li><li><p>Create a new database named <code>COFFEE</code>, view the schemas in the new <code>COFFEE</code> database, and then start a new ERD project.</p>
</li><li><p>Add a table to the ERD for the sale transactions entity 
using the information in the following table. Consider the naming 
convention to use so that your colleagues can understand your data and 
ensure that the names are valid in other RDBMS. Use the sample data 
shown in the image in Task 1 to determine appropriate data types for 
each column.</p>
<p> <img src="final-project_files/Task3A.png" alt="sales transaction"></p>
</li><li><p>Take a screenshot of your ERD and save it as Task3A.png or Task3A.jpg.</p>
</li><li><p>Add a table to the ERD for the product entity using the information in the following table.</p>
<p> <img src="final-project_files/Task3B.png" alt="Product"></p>
</li><li><p>Take a screenshot of your ERD and save it as Task3B.png or Task3B.jpg.</p>
</li></ol><h1 class="pageTitle">Task 4: Normalize tables</h1><p>When 
reviewing your ERD, you notice it does not conform to the second normal 
form. In this task, you will normalize some of the tables within the 
database.</p><ol>
<li><p>Review the data in the sales transaction table. Note that the 
transaction id column does not contain unique values because some 
transactions include multiple products.</p>
</li><li><p>Determine which columns should be stored in a separate table
 to remove the repeating rows and to put this table into second normal 
form.</p>
</li><li><p>Add a new table named <code>sales_detail</code> to the ERD, 
define the columns in the new table, and delete the moved columns from 
the sales transaction table, leaving a matching column in each of the 
two tables to create a relationship between them later.</p>
</li><li><p>Take a screenshot of your ERD and save it as Task4A.png or Task4A.jpg.</p>
</li><li><p>Review the data in the product table. Note that the product category and product type columns contain redundant data.</p>
</li><li><p>Determine which columns should be stored in a separate table
 to reduce redundant data and to put this table into a second normal 
form.</p>
</li><li><p>Add a new table named <code>product_type</code> to the ERD, 
define the columns in the new table, and delete the moved columns from 
the product table, leaving a matching column in each of the two tables 
to create a relationship between them later.</p>
</li><li><p>Take a screenshot of your ERD and save it as Task4B.png or Task4B.jpg.</p>
</li></ol><h1 class="pageTitle">Task 5: Define keys and relationships</h1><p>After normalizing your tables, you can define their primary keys and relationships between the tables in your ERD.</p><ol>
<li><p>Identify an appropriate column in each table to be a primary key 
and create the primary keys in the tables in your entity-relationship 
diagram (ERD).</p>
</li><li><p>Take a screenshot of your ERD and save it as Task5A.png or Task5A.jpg.</p>
</li><li><p>Identify the relationships between the following pairs of tables and then create the relationships in your ERD:</p>
<ul>
<li><code>sales_detail</code> to <code>sales_transaction</code></li><li><code>sales_detail</code> to <code>product</code></li><li><code>product</code> to <code>product_type</code></li></ul>
  <p>
</p></li><li><p>Take a screenshot of your ERD and save it as Task5B.png or Task5B.jpg.</p>
</li></ol><h1 class="pageTitle">Task 6: Create database objects by generating and running the SQL script from the ERD tool</h1><p>Now
 that your design is complete, you will generate an SQL script from your
 ERD, which you can use to create your database schema. For this 
project, you will then use a given SQL script to ensure that you can 
load the sample data into the schema. Finally, you will load the 
existing data from various sources into your new database schema.</p><ol>
<li><p>Use the Generate SQL functionality in the ERD tool to create an SQL script from your ERD.</p>
</li><li><p>Download the following <code>GeneratedScript.sql</code> file to your local computer.</p>
<ul>
<li><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0110EN-SkillsNetwork/datasets/CoffeeData/GeneratedScript.sql" target="_blank" rel="noopener noreferrer">GeneratedScript.sql</a></li></ul>
  <p>
</p></li><li><p>In pgAdmin, open the query tool, upload and open the <code>GeneratedScript.sql</code>
 file from your local computer, and then run the script to create the 
tables defined in the ERD. Verify that the tables exist in the COFFEE 
database\’s public schema now.</p>
</li><li><p>Take a screenshot of the tables shown in the tree-view pane 
on the left side of the page and save it as Task6A.png or Task6A.jpg.</p>
</li><li><p>Download the following <code>CoffeeData.sql</code> file to your local computer.</p>
<ul>
<li><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DB0110EN-SkillsNetwork/datasets/CoffeeData/CoffeeData.sql" target="_blank" rel="noopener noreferrer">CoffeeData.sql</a></li></ul>
  <p>
</p></li><li><p>In pgAdmin, open another instance of the Query tool, upload and open the <code>CoffeeData.sql</code> file from your local computer, and then run the script to populate the tables you just created.</p>
</li><li><p>In pgAdmin, view the first 100 rows of the <code>sales_detail</code> table.</p>
</li><li><p>Take a screenshot of the Data Output pane and save it as Task6B.png or Task6B.jpg.</p>
</li></ol><h1 class="pageTitle">Task 7: Create a view and export the data</h1><p>The
 external payroll company has requested a list of employees and the 
locations at which they work. This list should not include the CEO or 
CFO who owns the company. In this task, you will create a view in your 
PostgreSQL database that returns this information and export the results
 to a CSV file.</p><ol>
<li><p>In your <code>COFFEE</code> database, create a new view named <code>staff_locations_view</code> using the following SQL:</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">SELECT staff</span><span class="pun">.</span><span class="pln">staff_id</span><span class="pun">,</span></code></li><li class="L1"><code><span class="pln">staff</span><span class="pun">.</span><span class="pln">first_name</span><span class="pun">,</span></code></li><li class="L2"><code><span class="pln">staff</span><span class="pun">.</span><span class="pln">last_name</span><span class="pun">,</span></code></li><li class="L3"><code><span class="pln">staff</span><span class="pun">.</span><span class="pln">location</span></code></li><li class="L4"><code><span class="pln">FROM staff</span></code></li><li class="L5"><code><span class="pln">WHERE </span><span class="str">"position"</span><span class="pln"> NOT IN </span><span class="pun">(</span><span class="str">'CEO'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'CFO'</span><span class="pun">);</span></code></li></ol>
          <div class="code-block-actions multiple-lines z-0">
            <button title="Copy" class="action-code-block copy-code-block multiple-lines">
              <i class="fa fa-copy" aria-hidden="true"></i>
              <span class="popuptext" id="md-code-block-copy-0">Copied!</span>
            </button>
            <button title="Toggle Wrap" class="action-code-block wrap-code-block multiple-lines">
              <i class="fa fa-align-left" aria-hidden="true"></i>
              <span class="popuptext" id="md-code-block-wrap-0">Wrap Toggled!</span>
            </button>
            
            
          </div>
        </pre>
</li><li><p>View all the rows returned from the view.</p>
</li><li><p>Save the query results to a file named <code>staff_locations_view.csv</code> on your local computer.</p>
</li><li><p>Take a screenshot of the view shown in the tree-view pane on
 the left side of the page with the results in the Data Output pane, and
 save it as Task7.png or Task7.jpg.</p>
</li></ol><h1 class="pageTitle">Task 8: Create a materialized view and export the data</h1><p>A
 marketing consultant requires access to your product data in their 
MySQL database for a marketing campaign. You will create a materialized 
view in your PostgreSQL database that returns this information and 
export the results to a CSV file.</p><ol>
<li><p>In your <code>COFFEE</code> database, create a new materialized view named <code>product_info_m-view</code> using the following SQL:</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="formatted-line-numbers"><li>1</li><li>2</li><li>3</li><li>4</li></ol><ol class="linenums"><li class="L0"><code><span class="pln">SELECT product</span><span class="pun">.</span><span class="pln">product_name</span><span class="pun">,</span><span class="pln"> product</span><span class="pun">.</span><span class="pln">description</span><span class="pun">,</span><span class="pln"> product_type</span><span class="pun">.</span><span class="pln">product_category</span></code></li><li class="L1"><code><span class="pln">FROM product</span></code></li><li class="L2"><code><span class="pln">JOIN product_type</span></code></li><li class="L3"><code><span class="pln">ON product</span><span class="pun">.</span><span class="pln">product_type_id </span><span class="pun">=</span><span class="pln"> product_type</span><span class="pun">.</span><span class="pln">product_type_id</span><span class="pun">;</span></code></li></ol>
          <div class="code-block-actions multiple-lines z-0">
            <button title="Copy" class="action-code-block copy-code-block multiple-lines">
              <i class="fa fa-copy" aria-hidden="true"></i>
              <span class="popuptext" id="md-code-block-copy-1">Copied!</span>
            </button>
            <button title="Toggle Wrap" class="action-code-block wrap-code-block multiple-lines">
              <i class="fa fa-align-left" aria-hidden="true"></i>
              <span class="popuptext" id="md-code-block-wrap-1">Wrap Toggled!</span>
            </button>
            
            
          </div>
        </pre>
</li><li><p>Refresh the materialized view with data.</p>
</li><li><p>View all the rows returned from the view.</p>
</li><li><p>Save the query results  to a file named <code>product_info_m-view.csv</code> on your local computer.</p>
</li><li><p>Take a screenshot of the view shown in the tree-view pane on
 the left side of the page with the results in the Data Output pane, and
 save it as Task8.png or Task8.jpg.</p>
</li></ol><h1 class="pageTitle">Task 9: Import staff_location data into a MySQL database</h1><p>The external payroll company has asked you to upload the staff location information to their MySQL database.</p><ol>
<li>Click the button below to start a MySQL instance in the Cloud IDE.</li></ol><p><button class="plugin" onclick="openDataBase('MySQL','true')"><i class="fa fa-database"></i> <span class="plugin-text">Open and Start MySQL in IDE</span></button></p><ol start="2">
<li><p>Open phpMyAdmin in a new tab in your browser.</p>
</li><li><p>In phpMyAdmin, create a new database named <code>STAFF_LOCATIONS</code>, then import the location information saved in the <code>staff_locations_view.csv</code> file you exported from the view you created in Task 7.</p>
</li><li><p>Explore the new table and then view the data in it.</p>
</li><li><p>Take a screenshot of the contents of the new table and save it as Task9.png or Task9.jpg.</p>
</li></ol><h1 class="pageTitle">Task 10: Import coffee_shop_products data into a MySQL database</h1><p>The marketing consultant has asked you to upload the product information to their MySQL database.</p><ol>
<li><p>In phpMyAdmin, create a new database named <code>coffee_shop_products</code>, and then import the product information saved in the <code>product_info_m-view.csv</code> file from your materialized view into a new table in the <code>coffee_shop_products</code> database.</p>
</li><li><p>Browse the contents of the new table.</p>
</li><li><p>Take a screenshot of the contents of the new table and save it as Task10.png or Task10.jpg.</p>
</li></ol><h1 class="pageTitle">Task 11[Optional]: Import staff_location data into Db2 database</h1><p>The external payroll company has asked you to upload the staff location information to their Db2 database.</p><ol>
<li><p>In a new browser tab, go to <a href="https://cloud.ibm.com/login?utm_source=skills_network&amp;utm_content=in_lab_content_link&amp;utm_id=Lab-IBM-DB0110EN-SkillsNetwork" target="_blank" rel="noopener noreferrer" title="cloud.ibm.com/login,">cloud.ibm.com/login,</a> log in using your credentials, and then open a console for your Db2 on the Cloud instance you created earlier in this course.</p>
</li><li><p>Use the Load Data feature to load a new table named <code>STAFF_LOCATIONS</code> with the staff location information saved in the <code>staff_locations_view.csv</code> file you exported from the view you created in Task 7.</p>
</li><li><p>Explore the new table and then view the data in it.</p>
</li><li><p>Take a screenshot of the contents of the new table and save it as Task9.png or Task9.jpg.</p>
</li></ol><h1 class="pageTitle">Recap</h1><p>In this project, you created the objects and views that you exported in a MySQL database.</p><h2><span class="header-link octicon octicon-link"></span>Author(s)</h2><ul>
<li><a href="https://www.linkedin.com/in/lin-joyner-693b1993/" target="_blank" rel="noopener noreferrer">Lin Joyner</a> </li><li><a href="https://www.linkedin.com/in/pratiksha-verma-6487561b1/" target="_blank" rel="noopener noreferrer">Pratiksha Verma</a></li></ul><h3> © IBM Corporation. All rights reserved. </h3><h3></h3></body></html>